{
  "architecture": {
    "description": "Architecture s√©par√©e : index.html (structure/mise en page) + donnees.json (contenu)",
    "fichiers": {
      "index.html": "Page principale avec structure, styles et logique d'affichage",
      "donnees.json": "Fichier de donn√©es contenant titre, sections et √©l√©ments",
      "styles.css": "Fichier CSS externe (optionnel)"
    }
  },

  "specifications_index_html": {
    "structure_generale": {
      "doctype": "HTML5",
      "meta_viewport": "width=device-width, initial-scale=1.0, user-scalable=no",
      "charset": "UTF-8",
      "lang": "fr",
      "title": "Dynamique bas√© sur donnees.json"
    },

    "structure_html": {
      "head": {
        "meta_tags": [
          "charset=UTF-8",
          "viewport avec user-scalable=no",
          "description dynamique",
          "keywords dynamiques"
        ],
        "styles": {
          "inline_css": "Styles principaux int√©gr√©s",
          "external_css": "Optionnel : styles.css"
        }
      },
      "body": {
        "container_principal": "div.svg-container",
        "svg_viewport": "viewBox='0 0 1200 800'",
        "sections": [
          "titre_principal",
          "ligne_metro",
          "stations_container", 
          "sous_chapitres_container"
        ]
      }
    },

    "logique_javascript": {
      "chargement_donnees": {
        "methode": "fetch('donnees.json')",
        "gestion_erreurs": "try/catch avec messages utilisateur",
        "fallback": "Contenu par d√©faut si erreur"
      },
      "generation_dynamique": {
        "titre": "document.getElementById('main-title').textContent = data.titre",
        "stations": "Boucle sur data.chapitres pour cr√©er les stations",
        "sous_chapitres": "G√©n√©ration dynamique des panneaux",
        "positionnement": "Calcul automatique des positions"
      },
      "gestion_events": {
        "touch_handlers": "setupTouchHandlers() pour iframe",
        "click_handlers": "toggleSubChapters() pour affichage",
        "keyboard_handlers": "Navigation clavier",
        "resize_handlers": "Responsive design"
      }
    },

    "styles_css_integres": {
      "reset_global": {
        "body": "margin: 0, padding: 0, overflow: hidden, user-select: none",
        "iframe_optimization": "touch-callout: none, tap-highlight: transparent"
      },
      "container_svg": {
        "width": "100%",
        "height": "100vh", 
        "overflow": "hidden par d√©faut, auto si panneau ouvert"
      },
      "ligne_metro": {
        "stroke": "#334155",
        "stroke-width": "8px",
        "stroke-linecap": "round"
      },
      "stations": {
        "halo": "r=32, fill=#93C5FD, opacity=0, transition",
        "dot": "r=18, fill=#F8FAFC, stroke=#0EA5E9, stroke-width=6",
        "hover_effects": "scale(1.1), halo visible"
      },
      "panneaux": {
        "width": "280px",
        "background": "#FFFFFF",
        "border": "1px solid #E2E8F0",
        "border-radius": "12px",
        "box-shadow": "0 10px 25px rgba(0,0,0,0.1)",
        "animation": "slideInUp 0.4s ease-out"
      },
      "boutons": {
        "height": "48px",
        "background": "#F8FAFC",
        "border": "1px solid #CBD5E1",
        "border-radius": "8px",
        "transition": "all 0.2s ease",
        "hover": "translateY(-2px), border-color: #2563EB"
      }
    }
  },

  "specifications_donnees_json": {
    "structure_generale": {
      "format": "JSON valide",
      "encoding": "UTF-8",
      "validation": "Sch√©ma JSON optionnel"
    },

    "proprietes_racine": {
      "titre": {
        "type": "string",
        "description": "Titre principal affich√© en haut de la page",
        "exemple": "M√©thode des √âl√©ments Finis ‚Äî Parcours"
      },
      "description": {
        "type": "string", 
        "description": "Description optionnelle du cours",
        "requis": false
      },
      "chapitres": {
        "type": "array",
        "description": "Liste des chapitres/sections",
        "min_items": 1
      }
    },

    "structure_chapitre": {
      "id": {
        "type": "string",
        "description": "Identifiant unique pour le chapitre",
        "format": "alphanumeric, underscore autoris√©",
        "exemple": "sec1, introduction, chapitre_1"
      },
      "numero": {
        "type": "integer",
        "description": "Num√©ro d'ordre du chapitre",
        "minimum": 0
      },
      "titre": {
        "type": "string",
        "description": "Titre affich√© sur la station",
        "max_length": 50
      },
      "description": {
        "type": "string",
        "description": "Description courte sous le titre",
        "requis": false,
        "max_length": 100
      },
      "lien": {
        "type": "string",
        "description": "Lien principal du chapitre",
        "format": "URL relative ou absolue",
        "defaut": "#"
      },
      "couleur_theme": {
        "type": "string",
        "description": "Couleur personnalis√©e pour le chapitre",
        "format": "hex color",
        "defaut": "#3B82F6",
        "requis": false
      },
      "icone": {
        "type": "string",
        "description": "Emoji ou icone pour le chapitre",
        "defaut": "üìö",
        "requis": false
      },
      "sousParties": {
        "type": "array",
        "description": "Liste des sous-parties du chapitre",
        "defaut": []
      },
      "sexercer": {
        "type": "array", 
        "description": "Liste des exercices du chapitre",
        "defaut": []
      }
    },

    "structure_sous_partie": {
      "numero": {
        "type": "integer",
        "description": "Num√©ro de la sous-partie",
        "minimum": 1
      },
      "titre": {
        "type": "string",
        "description": "Titre de la sous-partie",
        "max_length": 60
      },
      "description": {
        "type": "string",
        "description": "Description optionnelle",
        "requis": false,
        "max_length": 120
      },
      "lien": {
        "type": "string",
        "description": "URL vers le contenu",
        "format": "URL relative ou absolue"
      },
      "cible": {
        "type": "string",
        "description": "Cible du lien",
        "enum": ["_self", "_blank", "_parent", "_top"],
        "defaut": "_self"
      },
      "type": {
        "type": "string",
        "description": "Type de contenu",
        "enum": ["cours", "demo", "video", "pdf", "exercice", "corrige"],
        "defaut": "cours"
      },
      "duree_estimee": {
        "type": "string",
        "description": "Dur√©e estim√©e de lecture",
        "format": "X min, Xh Ymin, etc.",
        "requis": false
      },
      "difficulte": {
        "type": "string",
        "description": "Niveau de difficult√©",
        "enum": ["facile", "moyen", "difficile"],
        "defaut": "moyen",
        "requis": false
      }
    },

    "exemple_complet": {
      "titre": "M√©thode des √âl√©ments Finis ‚Äî Parcours",
      "description": "Cours complet sur la m√©thode des √©l√©ments finis",
      "chapitres": [
        {
          "id": "sec1",
          "numero": 0,
          "titre": "Introduction",
          "description": "Motivation ¬∑ Illustration",
          "lien": "#",
          "couleur_theme": "#3B82F6",
          "icone": "üöÄ",
          "sousParties": [
            {
              "numero": 1,
              "titre": "Motivation",
              "description": "Comprendre pourquoi les √©l√©ments finis",
              "lien": "1-Motivation/index.html",
              "cible": "_blank",
              "type": "cours",
              "duree_estimee": "15 min",
              "difficulte": "facile"
            },
            {
              "numero": 2,
              "titre": "Illustration",
              "description": "Exemple concret d'application",
              "lien": "2-Illustration/index.html",
              "cible": "_blank",
              "type": "demo",
              "duree_estimee": "20 min",
              "difficulte": "facile"
            }
          ],
          "sexercer": [
            {
              "titre": "Exercices",
              "description": "Probl√®mes pratiques",
              "lien": "3-Exemple/enonce.pdf",
              "cible": "_blank",
              "type": "exercice",
              "difficulte": "facile"
            },
            {
              "titre": "Corrig√©s",
              "description": "Solutions d√©taill√©es",
              "lien": "3-Exemple/corrige.pdf",
              "cible": "_blank",
              "type": "corrige",
              "difficulte": "facile"
            }
          ]
        }
      ]
    }
  },

  "specifications_implementation": {
    "etapes_developpement": [
      "1. Cr√©er index.html avec structure de base et styles CSS int√©gr√©s",
      "2. Impl√©menter la logique JavaScript de chargement de donnees.json",
      "3. Cr√©er les fonctions de g√©n√©ration dynamique des √©l√©ments SVG",
      "4. Ajouter la gestion des √©v√©nements tactiles optimis√©e iframe",
      "5. Impl√©menter les animations et transitions CSS",
      "6. Cr√©er donnees.json avec le contenu du cours",
      "7. Tester la compatibilit√© iframe et responsive design",
      "8. Optimiser les performances et l'accessibilit√©"
    ],

    "fonctions_javascript_requises": [
      "loadData() - Chargement et parsing du JSON",
      "generatePlan(data) - G√©n√©ration de la structure SVG",
      "createStation(chapitre, position) - Cr√©ation d'une station",
      "createSubChapters(chapitre) - Cr√©ation des panneaux",
      "setupTouchHandlers(element, handler) - Gestion tactile",
      "toggleSubChapters(sectionId) - Affichage/masquage panneaux",
      "calculatePositions(totalChapters) - Calcul positions stations",
      "handleErrors(error) - Gestion des erreurs"
    ],

    "optimisations_requises": [
      "Pr√©vention s√©lection de texte sur mobile",
      "Gestion robuste des √©v√©nements tactiles dans iframe",
      "D√©tection tap vs swipe pour √©viter actions accidentelles",
      "Fallback si donnees.json non accessible",
      "Responsive design pour diff√©rentes tailles d'√©cran",
      "Accessibilit√© clavier et lecteurs d'√©cran",
      "Performance avec de nombreux chapitres"
    ],

    "tests_necessaires": [
      "Test chargement donnees.json (succ√®s/erreur)",
      "Test affichage avec diff√©rents nombres de chapitres",
      "Test interactions tactiles sur tablette/mobile",
      "Test int√©gration dans iframe Reveal.js",
      "Test navigation clavier compl√®te",
      "Test responsive design sur diff√©rents √©crans",
      "Test accessibilit√© avec lecteurs d'√©cran"
    ]
  },

  "exemple_utilisation": {
    "prompt_ia": "Cr√©e une page web interactive de navigation p√©dagogique avec cette architecture :\n\n1. index.html : Page principale qui charge donnees.json et g√©n√®re dynamiquement une interface 'ligne de m√©tro' avec stations cliquables et panneaux de sous-chapitres\n\n2. donnees.json : Fichier de donn√©es contenant titre, chapitres, sous-parties et exercices\n\n3. Fonctionnalit√©s requises :\n   - Chargement dynamique du contenu depuis JSON\n   - Interface ligne de m√©tro avec stations interactives\n   - Panneaux qui s'ouvrent au clic sur les stations\n   - Gestion tactile optimis√©e pour iframe\n   - Design responsive et accessible\n   - Animations fluides\n\nUtilise les sp√©cifications d√©taill√©es dans ce JSON pour l'impl√©mentation.",
    
    "structure_fichiers": {
      "index.html": "Page principale avec HTML, CSS int√©gr√© et JavaScript",
      "donnees.json": "Fichier de donn√©es avec contenu du cours",
      "README.md": "Documentation d'utilisation (optionnel)"
    }
  }
}
