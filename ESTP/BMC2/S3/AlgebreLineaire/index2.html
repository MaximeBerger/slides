<svg viewBox="0 0 1200 900" style="max-width:100%;height:auto"
     role="group" aria-label="Progression type ligne de métro avec sous-chapitres">
  <style>
    /* Typo */
    .t-title { font:700 26px/1.2 system-ui, Segoe UI, Roboto, sans-serif; fill:#0F172A; }
    .t-station { font:600 18px/1.2 system-ui, Segoe UI, Roboto, sans-serif; fill:#0F172A; text-anchor:middle; }
    .t-sub { font:400 14px/1.2 system-ui, Segoe UI, Roboto, sans-serif; fill:#475569; text-anchor:middle; }

    /* Ligne de métro */
    .line { stroke:#334155; stroke-width:8; stroke-linecap:round; }
    .tick { stroke:#64748B; stroke-width:2; }
    .arrow { fill:#334155; }

    /* Stations */
    .station-dot { fill:#F8FAFC; stroke:#0EA5E9; stroke-width:6; }
    a:focus .station-dot, a:hover .station-dot { stroke:#2563EB; }
    .station-halo { fill:#93C5FD; opacity:0; transition:opacity .15s ease; }
    a:focus .station-halo, a:hover .station-halo { opacity:.25; }

    /* Sous-chapitres */
    .sub-chapters { opacity:0; visibility:hidden; transition:opacity .3s ease, visibility .3s ease; }
    .sub-chapters.active { opacity:1; visibility:visible; }
    .sub-btn { fill:#F1F5F9; stroke:#CBD5E1; stroke-width:1; rx:8; }
    .sub-btn:hover, a:focus .sub-btn { stroke:#2563EB; fill:#E0F2FE; }
    .sub-btn-text { font:500 14px system-ui; fill:#0F172A; }
    .sub-btn-desc { font:400 12px system-ui; fill:#64748B; }
  </style>

  <!-- Titre -->
  <text class="t-title" x="60" y="64">Algèbre linéaire — Parcours</text>

  <!-- ===== Ligne principale + flèche de direction ===== -->
  <!-- Ligne -->
  <path class="line" d="M100,200 H1100"/>
  <!-- Petits ticks (rythme visuel) -->
  <g class="ticks">
    <line class="tick" x1="250" y1="188" x2="250" y2="212"/>
    <line class="tick" x1="500" y1="188" x2="500" y2="212"/>
    <line class="tick" x1="750" y1="188" x2="750" y2="212"/>
    <line class="tick" x1="1000" y1="188" x2="1000" y2="212"/>
  </g>
  <!-- Flèche de progression -->
  <polygon class="arrow" points="1120,200 1102,192 1102,208"/>

  <!-- ===== Stations (Sections) ===== -->
  <!-- Helpers positions: 100, 350, 600, 850, 1100 -->
  <!-- Section 0 — Révisions -->
  <a href="#" onclick="toggleSubChapters('sec1'); return false;" role="link" aria-label="Ouvrir Section 0 Révisions" tabindex="0">
    <g transform="translate(100,200)">
      <circle class="station-halo" r="28"/>
      <circle class="station-dot" r="16"/>
      <text class="t-station" x="0" y="46">0 · Révisions</text>
      <text class="t-sub" x="0" y="66">Vecteurs · Gauss · Systèmes</text>
    </g>
  </a>

  <!-- Section 1 — Espaces vectoriels -->
  <a href="#" onclick="toggleSubChapters('sec2'); return false;" role="link" aria-label="Ouvrir Section 1 Espaces vectoriels" tabindex="0">
    <g transform="translate(350,200)">
      <circle class="station-halo" r="28"/>
      <circle class="station-dot" r="16"/>
      <text class="t-station" x="0" y="46">1 · Espaces vectoriels</text>
      <text class="t-sub" x="0" y="66">Définition · Exemples</text>
    </g>
  </a>

  <!-- Section 2 — Familles de vecteurs -->
  <a href="#" onclick="toggleSubChapters('sec3'); return false;" role="link" aria-label="Ouvrir Section 2 Familles de vecteurs" tabindex="0">
    <g transform="translate(600,200)">
      <circle class="station-halo" r="28"/>
      <circle class="station-dot" r="16"/>
      <text class="t-station" x="0" y="46">2 · Familles de vecteurs</text>
      <text class="t-sub" x="0" y="66">Libres · Bases · Dimension</text>
    </g>
  </a>

  <!-- Section 3 — Applications linéaires -->
  <a href="#" onclick="toggleSubChapters('sec4'); return false;" role="link" aria-label="Ouvrir Section 3 Applications linéaires" tabindex="0">
    <g transform="translate(850,200)">
      <circle class="station-halo" r="28"/>
      <circle class="station-dot" r="16"/>
      <text class="t-station" x="0" y="46">3 · Applications linéaires</text>
      <text class="t-sub" x="0" y="66">Noyau · Image · Matrices</text>
    </g>
  </a>

  <!-- Section 4 — Matrices -->
  <a href="#" onclick="toggleSubChapters('sec5'); return false;" role="link" aria-label="Ouvrir Section 4 Matrices" tabindex="0">
    <g transform="translate(1100,200)">
      <circle class="station-halo" r="28"/>
      <circle class="station-dot" r="16"/>
      <text class="t-station" x="0" y="46">4 · Matrices</text>
      <text class="t-sub" x="0" y="66">Déterminants · Polynômes</text>
    </g>
  </a>

  <!-- ===== SOUS-CHAPTERS (affichés en colonne) ===== -->

  <!-- SECTION 0 — Révisions -->
  <g id="sec1" class="sub-chapters" transform="translate(100,280)">
    <a xlink:href="0-Revisions/1-Vecteurs/index.html" target="_blank">
      <g transform="translate(0,0)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">1 · Sur les vecteurs</text>
      </g>
    </a>
    <a xlink:href="0-Revisions/2-PivotDeGauss/pivotGauss.html" target="_blank">
      <g transform="translate(0,50)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">2 · Pivot de Gauss</text>
      </g>
    </a>
    <a xlink:href="0-Revisions/3-Visualisation/systemeLineaire2D.html" target="_blank">
      <g transform="translate(0,100)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">3 · Systèmes 2D</text>
      </g>
    </a>
    <a xlink:href="0-Revisions/3-Visualisation/systemeLineaire3D.html" target="_blank">
      <g transform="translate(0,150)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">4 · Systèmes 3D</text>
      </g>
    </a>
  </g>

  <!-- SECTION 1 — Espaces vectoriels -->
  <g id="sec2" class="sub-chapters" transform="translate(350,280)">
    <a xlink:href="1-EspacesVectoriels/1-LesEnsembles/index.html" target="_blank">
      <g transform="translate(0,0)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">1.1 · Les ensembles</text>
      </g>
    </a>
    <a xlink:href="1-EspacesVectoriels/2-Definition/index.html" target="_blank">
      <g transform="translate(0,50)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">1.2 · Définition</text>
      </g>
    </a>
    <a xlink:href="1-EspacesVectoriels/3-SousEspacesVectoriels/index.html" target="_blank">
      <g transform="translate(0,100)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">1.3 · Sous-espaces</text>
      </g>
    </a>
    <a xlink:href="1-EspacesVectoriels/4-Bestiaire/index.html" target="_blank">
      <g transform="translate(0,150)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">1.4 · Bestiaire</text>
      </g>
    </a>
  </g>

  <!-- SECTION 2 — Familles de vecteurs -->
  <g id="sec3" class="sub-chapters" transform="translate(600,280)">
    <a xlink:href="2-FamillesDeVecteurs/1-Coordonnees/index.html" target="_blank">
      <g transform="translate(0,0)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">2.1 · Coordonnées</text>
      </g>
    </a>
    <a xlink:href="2-FamillesDeVecteurs/2-CombinaisonsLineaires/index.html" target="_blank">
      <g transform="translate(0,50)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">2.2 · Combinaisons</text>
      </g>
    </a>
    <a xlink:href="2-FamillesDeVecteurs/3-LibresGeneratrices/index.html" target="_blank">
      <g transform="translate(0,100)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">2.3 · Libres/Génératrices</text>
      </g>
    </a>
    <a xlink:href="2-FamillesDeVecteurs/4-Bases/index.html" target="_blank">
      <g transform="translate(0,150)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">2.4 · Bases</text>
      </g>
    </a>
    <a xlink:href="2-FamillesDeVecteurs/5-MatricesDePassage/index.html" target="_blank">
      <g transform="translate(0,200)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">2.5 · Matrices passage</text>
      </g>
    </a>
  </g>

  <!-- SECTION 3 — Applications linéaires -->
  <g id="sec4" class="sub-chapters" transform="translate(850,280)">
    <a xlink:href="3-ApplicationsLineaires/1-Definition/index.html" target="_blank">
      <g transform="translate(0,0)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">3.1 · Définition</text>
      </g>
    </a>
    <a xlink:href="3-ApplicationsLineaires/2-Proprietes/index.html" target="_blank">
      <g transform="translate(0,50)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">3.2 · Propriétés</text>
      </g>
    </a>
    <a xlink:href="3-ApplicationsLineaires/3-TheoremeDuRang/index.html" target="_blank">
      <g transform="translate(0,100)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">3.3 · Théorème rang</text>
      </g>
    </a>
    <a xlink:href="3-ApplicationsLineaires/4-RevisionsMatrices/index.html" target="_blank">
      <g transform="translate(0,150)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">3.4 · Révisions matrices</text>
      </g>
    </a>
    <a xlink:href="3-ApplicationsLineaires/5-MatriceDuneApplicationLineaire/index.html" target="_blank">
      <g transform="translate(0,200)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">3.5 · Matrice app. lin.</text>
      </g>
    </a>
  </g>

  <!-- SECTION 4 — Matrices -->
  <g id="sec5" class="sub-chapters" transform="translate(1100,280)">
    <a xlink:href="4-Matrices/Déterminants/index.html" target="_blank">
      <g transform="translate(0,0)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">4.1 · Déterminants</text>
      </g>
    </a>
    <a xlink:href="4-Matrices/PolynomesDeMatrices/index.html" target="_blank">
      <g transform="translate(0,50)" tabindex="0">
        <rect class="sub-btn" x="0" y="0" width="200" height="40"/>
        <text class="sub-btn-text" x="8" y="26">4.2 · Polynômes</text>
      </g>
    </a>
  </g>

  <script>
    function toggleSubChapters(sectionId) {
      // Masquer tous les sous-chapitres
      const allSubChapters = document.querySelectorAll('.sub-chapters');
      allSubChapters.forEach(chapter => {
        chapter.classList.remove('active');
      });
      
      // Afficher le sous-chapitre cliqué
      const targetChapter = document.getElementById(sectionId);
      if (targetChapter) {
        targetChapter.classList.add('active');
      }
    }
  </script>
</svg>
